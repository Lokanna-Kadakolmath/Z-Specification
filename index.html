<html>
<head>
<link rel="stylesheet" href="zimg/zed.css" type="text/css">
<script type="text/javascript"> 
function disableselect(e){  
return false  
}  

function reEnable(){  
return true  
}  

//if IE4+  
document.onselectstart=new Function ("return false")  
document.oncontextmenu=new Function ("return false")  
//if NS6  
if (window.sidebar){  
document.onmousedown=disableselect  
document.onclick=reEnable  
}
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
jQuery(document).ready(function(){
  jQuery(function() {
        jQuery(this).bind("contextmenu", function(event) {
            event.preventDefault();
            alert('Sorry, you have no rights to copy the content!!')
        });
    });
});
</script>
<title>CBTC Moving Block Interlocking System</title>

</head>

<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
<h1 align=center > Z Formal Specification of CBTC Moving Block Interlocking System</h1>
<h2 align=center> Lokanna Kadakolmath</h2>
<h4 align=center> <i>Email : lokanna@acharya.ac.in</i></h4>
<hr />
<p class="informal">



</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td class="zed">Points ::= P1 | P2 | P3 | P4</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">LockStatus ::= Free | Lock</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">PointPosition ::= Normal | Reverse</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">RouteStatus ::= Set | Unset</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">RunStatus ::= Off | On | Neutral</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">SignalStatus ::= SignalOff | SignalOn</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">SignalAspect ::= Green_Green | Red_Red | Green_Yellow | Green_Red | Yellow_Yellow</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">SegmentStatus ::= Clear | Occupied </td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">HeadPosition ::= Front | Rear</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">RouteStatusMsg ::= RouteSet | RouteUnset</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">Route ::= R1 | R2 | R3 | R4 | R5 | R6 | R7 | R8 </td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">Train ::= T1 | T2 | T3 | T4 </td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">Command ::= True | False</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">Segments ::= segment1 | segment2 | segment3 | segment4 | segment5 | segment6 | segment7 | segment8 | segment9 | segment10 | beg | end | segment11 | segment12</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">PointCmdMsg ::= CommandedNormal | CommandedReverse | CommandedFreeNormal | CommandedFreeReverse | CommandedandDirectedNormal | CommandedandDirectedReverse</td></tr>
<tr> <td class="zed"><img width=1 height=10 align=bottom alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td class="zed">PointCommand ::= CN | CR | CFN | CFR | CDN | CDR.</td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td width=1 rowspan=99 bgcolor=black><img width=1 height=1 alt="\begin{axdef}" src="zimg/clear.gif"><br></td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed1 : <img height=11 width=10 alt="\nat" src="zimg/nat-m.gif"> 
</td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed2 : <img height=11 width=10 alt="\nat" src="zimg/nat-m.gif"> 
</td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed3 : <img height=11 width=10 alt="\nat" src="zimg/nat-m.gif"> 
</td></tr>
<tr> <td></td><td class="zed" colspan=2> RestrictedSpeed : <img height=11 width=10 alt="\nat" src="zimg/nat-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> MaxSegmentSize : <img height=11 width=10 alt="\nat" src="zimg/nat-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=140 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed1 = 50 </td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed2 = 45 </td></tr>
<tr> <td></td><td class="zed" colspan=2> UnrestrictedSpeed3 = 30 </td></tr>
<tr> <td></td><td class="zed" colspan=2> RestrictedSpeed = 20 </td></tr>
<tr> <td></td><td class="zed" colspan=2> MaxSegmentSize = 537</td></tr>
<tr><td width=10 height=1><img width=10 height=1 alt="\end{axdef}" src="zimg/clear.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td width=1 rowspan=99 bgcolor=black><img width=1 height=1 alt="\begin{axdef}" src="zimg/clear.gif"><br></td></tr>trackLayout : Route <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> seq Segments 
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> trackLayout = { R1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment1 , segment2 , segment3 , segment4 , segment5 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment5 , segment4 , segment3 , segment2 , segment1 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment6 , segment7 , segment8 , segment9 , segment10 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment10 , segment9 , segment8 , segment7 , segment6 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment1 , segment11 , segment8 , segment7 , segment6 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment6 , segment7 , segment8 , segment11 , segment1 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment5 , segment12 , segment8 , segment9 , segment10 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> segment10 , segment9 , segment8 , segment12 , segment5 , end <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> }</td></tr>
<tr><td width=10 height=1><img width=10 height=1 alt="\end{axdef}" src="zimg/clear.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td width=1 rowspan=99 bgcolor=black><img width=1 height=1 alt="\begin{axdef}" src="zimg/clear.gif"><br></td></tr>trainRoutes : Route <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> seq Train 
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> trainRoutes = { R1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T1 , T2 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T1 , T2 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T1 , T2 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T1 , T2 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T3 , T4 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T3 , T4 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T3 , T4 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">&nbsp;, R8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> T3 , T4 <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> }</td></tr>
<tr><td width=10 height=1><img width=10 height=1 alt="\end{axdef}" src="zimg/clear.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td width=1 rowspan=99 bgcolor=black><img width=1 height=1 alt="\begin{axdef}" src="zimg/clear.gif"><br></td></tr>pointsofSubRoute : Segments <img width=14 height=8 alt="\pfun" src="zimg/pfun-m.gif"> <img height=11 width=8 alt="\finset" src="zimg/finset-m.gif"> Points 
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> pointsofSubRoute = { segment2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P1 } , segment9 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P2 } , segment7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P3 } , segment4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P4 } , segment11 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P1 , P2 } , segment12 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { P3 , P4 } , segment1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } , segment3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } , segment5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } , segment6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } , segment8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } , segment10 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { }, end <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> { } }</td></tr>
<tr><td width=10 height=1><img width=10 height=1 alt="\end{axdef}" src="zimg/clear.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ControlRoutes</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRoutes : <img height=11 width=8 alt="\finset" src="zimg/finset-m.gif"> Route </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtSegments : seq Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrains : seq Train </td></tr>
<tr> <td></td><td class="zed" colspan=2>controlRtSt : Route <img width=14 height=8 alt="\pfun" src="zimg/pfun-m.gif"> RouteStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>routeCmd : Route <img width=14 height=8 alt="\pfun" src="zimg/pfun-m.gif"> Command </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> controlRtSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> <b>dom</b> trackLayout </td></tr>
<tr> <td></td><td class="zed" colspan=2><b>dom</b> routeCmd <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> <b>dom</b> trackLayout</td></tr>
 <tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ATS</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> newroute? : Route </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeSt! : RouteStatusMsg</td></tr>
 <tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=200 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( newroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Unset ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> controlRtSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> routeSt! = RouteUnset </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( newroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Set ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> controlRtSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> routeSt! = RouteSet</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">EnableRoute</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=900 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRt? : Route </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeSt! : RouteStatusMsg </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRt? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>dom</b> trackLayout</td></tr>
<tr> <td></td><td class="zed" colspan=2> ( enabledRt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Set ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> controlRtSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> routeCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> controlRtSt' = controlRtSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { enabledRt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Set } </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtSegments' = enabledRtSegments <img width=12 height=11 alt="\cat" src="zimg/cat-m.gif"> trackLayout ( enabledRt? ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtTrains' = enabledRtTrains <img width=12 height=11 alt="\cat" src="zimg/cat-m.gif"> trainRoutes ( enabledRt? ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRt? <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> enabledRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRoutes' = enabledRoutes <img width=10 height=7 alt="\cup" src="zimg/cup-m.gif"> {enabledRt?} </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeCmd' =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { R2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } , { R4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> False } } </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeSt! = RouteSet</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">UpdateSegmentStatus</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>updateSegSt : Segments <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> SegmentStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> updateSegSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Segments</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ATPSegment</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> seg? : Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2> sgStatus! : SegmentStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=120 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>( seg? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> sgStatus! = Clear </td></tr>
<tr> <td></td><td class="zed" colspan=2>( seg? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> sgStatus! = Occupied</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ManageSubRouteLocking</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>lockedSubroutes : seq Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRouteLockSt : Segments <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> LockStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrainsSubroutes : Train <img width=14 height=8 alt="\pfun" src="zimg/pfun-m.gif"> seq Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd, subRoutesUnlocked: Command </td></tr>
<tr> <td></td><td class="zed" colspan=2>m : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> subRouteLockSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Segments</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">SubRouteLockManager</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=250 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking</td></tr>
<tr> <td></td><td class="zed" colspan=2>subRtLockSt!: LockStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>seg? : Segments</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>( seg? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> subRtLockSt! = Free </td></tr>
<tr> <td></td><td class="zed" colspan=2>( seg? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> subRtLockSt! = Lock </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ManagePointLocking</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedPoints : <img height=11 width=8 alt="\finset" src="zimg/finset-m.gif"> Points </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLockSt : Points <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> LockStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> pointLockSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Points</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
 <div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">PointLockManager</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLkSt! : LockStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> pt? : Points </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointLkSt! = Free </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointLkSt! = Lock</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">LockSubRoute</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> subroute? : Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRtLockSt! : LockStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=140 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd = True <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> subRoutesUnlocked = False </td></tr>
<tr> <td></td><td class="zed" colspan=2>m <img width=7 height=9 alt="\leq" src="zimg/leq-m.gif"> #enabledRtSegments  </td></tr>
<tr> <td></td><td class="zed" colspan=2> subroute? = enabledRtSegments ( m ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( subroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> subRouteLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( subroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRouteLockSt' = subRouteLockSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { subroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock } </td></tr>
<tr> <td></td><td class="zed" colspan=2>subroute? <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> <b>ran</b> lockedSubroutes <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> lockedSubroutes' =lockedSubroutes <img width=12 height=11 alt="\cat" src="zimg/cat-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> subroute? <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrainsSubroutes' =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> ( enabledRtTrainsSubroutes ( enabledRtTrains ( 1 ) ) <img width=12 height=11 alt="\cat" src="zimg/cat-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> subroute? <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) } , { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> ( enabledRtTrainsSubroutes ( enabledRtTrains ( 2 ) ) <img width=12 height=11 alt="\cat" src="zimg/cat-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> subroute? <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) } } </td></tr>
<tr> <td></td><td class="zed" colspan=2>m' = m +1 </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd' = lockCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked' = False </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRtLockSt! = Lock</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
 <div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">DisableRoute</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=850 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> disabledRt? : Route </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeSt! : RouteStatusMsg </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=140 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> seg <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> <b>ran</b> lockedSubroutes <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pt <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked = True </td></tr>
<tr> <td></td><td class="zed" colspan=2> disabledRt? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> enabledRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( disabledRt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Unset ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> controlRtSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> controlRtSt' = controlRtSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { disabledRt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Unset } </td></tr>
<tr> <td></td><td class="zed" colspan=2>  enabledRoutes' = enabledRoutes \ { disabledRt? } </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtSegments' = enabledRtSegments <img height=11 width=10 alt="\nrres" src="zimg/nrres-m.gif"> <b>ran</b> ( trackLayout ( disabledRt? ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtTrains' = enabledRtTrains <img height=11 width=10 alt="\nrres" src="zimg/nrres-m.gif"> <b>ran</b> ( trainRoutes ( disabledRt? ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2>  routeCmd' =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { R2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } , { R4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True } } </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked' = False </td></tr>
<tr> <td></td><td class="zed" colspan=2>m' = m </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd' = lockCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRouteLockSt' = subRouteLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedSubroutes' = lockedSubroutes </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrainsSubroutes' = enabledRtTrainsSubroutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> routeSt! = RouteUnset</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MoveAndStopTrain</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos : ( Train <img width=13 height=8 alt="\rel" src="zimg/rel-m.gif"> HeadPosition ) <img width=13 height=8 alt="\rel" src="zimg/rel-m.gif"> Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainCurrentDistance , trainCurrentSpeed : Train <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>runningTrain : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=180 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><b>dom</b> trainCurrentDistance <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Train </td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> trainCurrentSpeed <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Train </td></tr>
<tr> <td></td><td class="zed" colspan=2><b>ran</b> trainHeadPos <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> train : Train ; x , y : Segments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( ( { train <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> x <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> { train <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> y <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos ) <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( { train <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> x <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> { train <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> y <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos ) ) <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> x = y</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">Beacon</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> occupiedSegment : Segments </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=140 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> occupiedSegment = trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">SetFrontSegmentStatus</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> Beacon </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>sgStatus! : SegmentStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>( occupiedSegment <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>{ runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> updateSegSt' = updateSegSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> {  occupiedSegment  <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied } </td></tr>
<tr> <td></td><td class="zed" colspan=2> sgStatus! = Occupied</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">UnsetRearSegmentStatus</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> sgStatus! : SegmentStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>( trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>{ runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } </td></tr>
<tr> <td></td><td class="zed" colspan=2>  updateSegSt' = updateSegSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear } </td></tr>
<tr> <td></td><td class="zed" colspan=2>  trainHeadPos' = trainHeadPos <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front }, { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> trainHeadPos { runningTrain <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } } </td></tr>
<tr> <td></td><td class="zed" colspan=2>runningTrain' = runningTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainCurrentDistance' = trainCurrentDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainCurrentSpeed' = trainCurrentSpeed </td></tr>
<tr> <td></td><td class="zed" colspan=2> sgStatus! = Clear</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">CommandPointPosition</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> pointCmd : Points <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> PointCommand </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> pointCmd <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Points</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">FrameAxioms</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=450 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointCmdSt! : PointCmdMsg </td></tr>
<tr> <td></td><td class="zed" colspan=2> pt? : Points </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=110 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedNormal </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedReverse </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedFreeNormal </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedFreeReverse </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedandDirectedNormal </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointCmdSt! = CommandedandDirectedReverse</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">CommandPtPosToLockThePoint</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1150 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtSegments <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> seg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>ran</b> lockedSubroutes <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pt <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : <b>ran</b> enabledRtTrains <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( enabledRtTrainsSubroutes ( tr ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>pointCmd' = ( <b>if</b> ( controlRtSt ( R1 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R2 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R3 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R4 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R5 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R6 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN } } <b>else</b> <b>if</b> ( controlRtSt ( R7 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } } <b>else</b> <b>if</b> ( controlRtSt ( R8 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR } } <b>else</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } )</td></tr>
 <tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">CommandPtPosToUnlockThePoint</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1150 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pt <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : <b>ran</b> enabledRtTrains <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( enabledRtTrainsSubroutes ( tr ) ) =&nbsp; <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointCmd' = ( <b>if</b> ( controlRtSt ( R1 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R2 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R3 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R4 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R5 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R6 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } <b>else</b> <b>if</b> ( controlRtSt ( R7 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } } <b>else</b> <b>if</b> ( controlRtSt ( R8 ) = Set ) <b>then</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR } } <b>else</b> <img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { P1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } , { P4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN } } )</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MovePointPosition</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> pointPosSt : Points <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> PointPosition </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> pointPosSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Points</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">PointSwitch</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MovePointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointSt! : PointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> pt? : Points </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Normal ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointPosSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointSt! = Normal </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( pt? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Reverse ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointPosSt <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> pointSt! = Reverse</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MovePointNormal</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MovePointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? : Points </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointSt! : PointPosition </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointPosSt' = pointPosSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Normal } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointCmd' = pointCmd <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDN } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointSt! = Normal</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
 <div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MovePointReverse</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MovePointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? : Points </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointSt! : PointPosition </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointPosSt' = pointPosSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Reverse } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointCmd' = pointCmd <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDR } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointSt! = Reverse</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
 <div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">LockThePoint</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=350 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? : Points </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLkSt! : LockStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=140 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CDR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> pointLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLockSt' = pointLockSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock } </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedPoints' = lockedPoints <img width=10 height=7 alt="\cup" src="zimg/cup-m.gif"> { point? } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLkSt! = Lock</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
 <div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">UnlockThePoint</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? : Points </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLkSt! : LockStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=110 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> pointLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLockSt' = pointLockSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { point? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free } </td></tr>
<tr> <td></td><td class="zed" colspan=2> point? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedPoints' = lockedPoints \ { point? } </td></tr>
<tr> <td></td><td class="zed" colspan=2> pointLkSt! = Free</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">UnlockSubRoute</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=450 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> CommandPointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> subroute? : Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRtLockSt! : LockStatus </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=110 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFR ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt: Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : <b>ran</b> enabledRtTrains <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( enabledRtTrainsSubroutes ( tr ) ) =&nbsp; <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> subroute? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>ran</b> enabledRtSegments </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( subroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> subRouteLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> subroute? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>ran</b> lockedSubroutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRouteLockSt' = subRouteLockSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { subroute? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free } </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedSubroutes <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> lockedSubroutes' = lockedSubroutes <img height=11 width=10 alt="\nrres" src="zimg/nrres-m.gif"> { subroute? } </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrainsSubroutes' =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { T1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> } , { T2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> } , { T3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> } , { T4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> } } </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked' = True </td></tr>
<tr> <td></td><td class="zed" colspan=2>( m' = <b>if</b> (m = 0) <b>then</b> 1 <b>else</b> m - 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2>(lockCmd' = <b>if</b> ( lockedSubroutes' <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) <b>then</b> False <b>else</b> True ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRtLockSt! = Free</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ExtinguishingSignal</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> trainSignal : Train <img width=14 height=8 alt="\pfun" src="zimg/pfun-m.gif"> SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2>k: <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><b>ran</b> trainSignal <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> { Green_Green , Red_Red } </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">SignalMan</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> signalSt! : SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2> tr?: Train</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=110 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> signalSt! = Green_Green </td></tr>
<tr> <td></td><td class="zed" colspan=2>( tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> signalSt! = Red_Red</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">Extinguishing_A_MarkerOffPosition</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=550 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> signalSt! : SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2> tr?: Train</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> enabledRtSegments <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> tr? = enabledRtTrains ( k ) </td></tr>
<tr> <td></td><td class="zed" colspan=2>k <img width=7 height=9 alt="\leq" src="zimg/leq-m.gif"> # enabledRtTrains </td></tr>
<tr> <td></td><td class="zed" colspan=2>( enabledRtTrainsSubroutes ( tr? ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : <b>ran</b> enabledRtSegments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> seg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>ran</b> lockedSubroutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Lock ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pt <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> lockedPoints </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( head&nbsp;enabledRtSegments <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>{ tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainSignal' = trainSignal <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green } </td></tr>
<tr> <td></td><td class="zed" colspan=2>( k' = <b>if</b> ( k =&nbsp;# enabledRtTrains <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> enabledRtTrainsSubroutes ( enabledRtTrains ( k - 1 ) ) =&nbsp;<img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) <b>then</b> k <b>else</b> k + 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> signalSt! = Green_Green</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">Extinguishing_A_MarkerOnPosition</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=650 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> signalSt! : SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2> tr?: Train</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>tr? <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> <b>ran</b> enabledRtTrains </td></tr>
<tr> <td></td><td class="zed" colspan=2>( end <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( <img width=6 height=10 alt="\exists" src="zimg/exists-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pt <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> lockedPoints ) </td></tr>
<tr> <td></td><td class="zed" colspan=2>( enabledRtSegments ( # enabledRtSegments - 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>{ tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> end <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainSignal' = trainSignal <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { tr? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } </td></tr>
<tr> <td></td><td class="zed" colspan=2>( k' = <b>if</b> ( k = 0 ) <b>then</b> 1 <b>else</b> <b>if</b> ( k <img width=7 height=9 alt="\leq" src="zimg/leq-m.gif"> # enabledRtTrains <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> enabledRtTrainsSubroutes ( enabledRtTrains ( k ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) <b>then</b> k <b>else</b> k - 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> signalSt! = Red_Red</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">OnboardCBTC</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> dist! , speed! : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> train? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> dist! = trainCurrentDistance ( train? ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> speed! = trainCurrentSpeed ( train? )</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">Tachometer</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> rpm! : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMeter : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMeterPerMin : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> wheelCircumferenceInMeter : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> train? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=130 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> wheelCircumferenceInMeter = 3 </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMeter = trainCurrentSpeed ( train? ) * 1609 </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMeterPerMin = tSpeedInMeter <b>div</b> 60 </td></tr>
<tr> <td></td><td class="zed" colspan=2> rpm! = tSpeedInMeterPerMin <b>div</b> wheelCircumferenceInMeter</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MaintainWorstCaseStoppingDistance</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> trainLMA : Train <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2> moveSt : Train <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> RunStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainLMASt: Train <img width=14 height=8 alt="\fun" src="zimg/fun-m.gif"> RunStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>i, j : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=75 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>ran</b> trainLMA <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> { Green_Green , Red_Red , Green_Yellow , Green_Red, Yellow_Yellow } </td></tr>
<tr> <td></td><td class="zed" colspan=2> <b>dom</b> moveSt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> Train </td></tr>
<tr> <td></td><td class="zed" colspan=2><b>ran</b> trainLMASt <img width=9 height=10 align=absbottom alt="\subseteq" src="zimg/subseteq-m.gif"> { Off, On } </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">WaysideCBTC</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=400 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> lmaSt! : SignalAspect </td></tr>
<tr> <td></td><td class="zed" colspan=2> train? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=130 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> lmaSt! = Red_Red </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> lmaSt! = Green_Green </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> lmaSt! = Green_Yellow </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> lmaSt! = Green_Red </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> lmaSt! = Yellow_Yellow </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ComputeTrain1LMA</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> train? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> train? = enabledRtTrains ( 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2>( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMASt </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Neutral ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> trainHeadPos {enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> beg <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> beg </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = end <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = end <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end </td></tr>
<tr> <td></td><td class="zed" colspan=2> i <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> # enabledRtSegments </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( trainLMA' = trainLMA <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pointsofSubRoute ( enabledRtSegments ( i ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i + 2 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i + 1 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pointsofSubRoute ( enabledRtSegments ( i + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i + 3 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( i + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i + 2 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( i + 1 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( i ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( i + 3 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> trainLMA ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainLMA' ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } <b>else</b> moveSt ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2>  trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( i' = <b>if</b> ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA' ) <b>then</b> i <b>else</b> i + 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> j' = j</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">ComputeTrain2LMA</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> train? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> train? = enabledRtTrains ( 2 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2>( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMASt </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Neutral ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> trainHeadPos {enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = end <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { enabledRtTrains (1) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = end <img width=13 height=7 alt="\implies" src="zimg/implies-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end </td></tr>
<tr> <td></td><td class="zed" colspan=2> j <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> # enabledRtSegments </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( trainLMA' = trainLMA <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pointsofSubRoute ( enabledRtSegments ( j ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j + 2 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j + 1 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> pointsofSubRoute ( enabledRtSegments ( j + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j + 3 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( pointsofSubRoute ( enabledRtSegments ( j + 1 ) ) <img width=10 height=7 alt="\cap" src="zimg/cap-m.gif"> lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> end <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j + 2 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> enabledRtSegments ( j + 1 ) ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Yellow_Yellow } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Red } <b>else</b> <b>if</b> ( ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = enabledRtSegments ( j ) ) <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> updateSegSt <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> ( enabledRtSegments ( j + 3 ) ) = end ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Yellow } <b>else</b> trainLMA ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2> ( moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainLMA' ) <b>then</b> { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } <b>else</b> moveSt ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainLMA' ) <b>then</b> {train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off }  <b>else</b> { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On , train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( j' = <b>if</b> ( trainHeadPos { train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } = beg  <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( train? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA' )  <b>then</b> j <b>else</b> j + 1 ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> i' = i</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MoveTrain1</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> currentTrain? : Train </td></tr>
<tr> <td></td><td class="zed" colspan=2> seg? : Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMiles : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> distanceInMeter : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=180 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>currentTrain? = enabledRtTrains (1) </td></tr>
<tr> <td></td><td class="zed" colspan=2> seg? = head ( enabledRtTrainsSubroutes ( currentTrain? ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( enabledRtTrainsSubroutes ( currentTrain? ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> enabledRtTrainsSubroutes' = enabledRtTrainsSubroutes <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> tail ( enabledRtTrainsSubroutes ( currentTrain? ) ) } </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>  ( currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> seg? <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainHeadPos' = trainHeadPos <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> seg? , { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> trainHeadPos { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } } </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMiles = <b>if</b> ( trainLMA ( currentTrain? ) = Green_Green ) <b>then</b> UnrestrictedSpeed1 <b>else</b> <b>if</b> ( trainLMA ( currentTrain? ) = Green_Yellow ) <b>then</b> UnrestrictedSpeed2 <b>else</b> <b>if</b> (trainLMA ( currentTrain? ) = Green_Red ) <b>then</b> UnrestrictedSpeed3 <b>else</b> <b>if</b> ( trainLMA ( currentTrain? ) = Yellow_Yellow ) <b>then</b> RestrictedSpeed <b>else</b> 0 </td></tr>
<tr> <td></td><td class="zed" colspan=2> distanceInMeter = <b>if</b> ( ( { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos' ) <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> end <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos' ) ) <b>then</b> 0 <b>else</b> MaxSegmentSize </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentDistance' = trainCurrentDistance <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> ( trainCurrentDistance ( currentTrain? ) + distanceInMeter ) } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentSpeed' = trainCurrentSpeed <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> tSpeedInMiles } </td></tr>
<tr> <td></td><td class="zed" colspan=2> moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Neutral } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainLMA' = trainLMA </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>( trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> (( enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Green_Green ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal) <b>then</b> {enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On }  <b>else</b> { enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } )) </td></tr>
<tr> <td></td><td class="zed" colspan=2> </td></tr>
<tr> <td></td><td class="zed" colspan=2> runningTrain' = currentTrain? </td></tr>
<tr> <td></td><td class="zed" colspan=2> i' = i </td></tr>
<tr> <td></td><td class="zed" colspan=2> j' = j </td></tr>
<tr> <td></td><td class="zed" colspan=2>m' = m </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd' = lockCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked' = subRoutesUnlocked </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRouteLockSt' = subRouteLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedSubroutes' = lockedSubroutes </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">MoveTrain2</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2>  <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> currentTrain? : Train </td></tr>
<tr> <td></td><td class="zed" colspan=2> seg? : Segments </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMiles : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2> distanceInMeter : <img height=11 width=10 alt="\num" src="zimg/num-m.gif"> </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=180 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>currentTrain? = enabledRtTrains(2) </td></tr>
<tr> <td></td><td class="zed" colspan=2> seg? = head ( enabledRtTrainsSubroutes ( currentTrain? ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> ( enabledRtTrainsSubroutes ( currentTrain? ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> enabledRtTrainsSubroutes' = enabledRtTrainsSubroutes <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> tail ( enabledRtTrainsSubroutes ( currentTrain? ) ) } </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>  ( currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> moveSt </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> seg? <img width=7 height=11 align=absbottom alt="\notin" src="zimg/notin-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainHeadPos' = trainHeadPos <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> seg? , { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> trainHeadPos { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } } </td></tr>
<tr> <td></td><td class="zed" colspan=2> tSpeedInMiles = <b>if</b> ( trainLMA ( currentTrain? ) = Green_Green ) <b>then</b> UnrestrictedSpeed1 <b>else</b> <b>if</b> ( trainLMA ( currentTrain? ) = Green_Yellow ) <b>then</b> UnrestrictedSpeed2 <b>else</b> <b>if</b> ( trainLMA ( currentTrain? ) = Green_Red ) <b>then</b> UnrestrictedSpeed3 <b>else</b> <b>if</b> ( trainLMA ( currentTrain? ) = Yellow_Yellow ) <b>then</b> RestrictedSpeed <b>else</b> 0 </td></tr>
<tr> <td></td><td class="zed" colspan=2> distanceInMeter = <b>if</b> ( ( { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos' ) <img width=8 height=7 alt="\lor" src="zimg/lor-m.gif"> ( { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> end <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos' ) ) <b>then</b> 0 <b>else</b> MaxSegmentSize </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentDistance' = trainCurrentDistance <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> ( trainCurrentDistance ( currentTrain? ) + distanceInMeter ) } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentSpeed' = trainCurrentSpeed <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> tSpeedInMiles } </td></tr>
<tr> <td></td><td class="zed" colspan=2> moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { currentTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Neutral } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainLMA' = trainLMA </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>( trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( ( enabledRtTrainsSubroutes ( enabledRtTrains ( 1 ) ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">) <b>then</b> {enabledRtTrains ( 1 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On }  <b>else</b> { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } ) ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> </td></tr>
<tr> <td></td><td class="zed" colspan=2> runningTrain' = currentTrain? </td></tr>
<tr> <td></td><td class="zed" colspan=2> i' = i </td></tr>
<tr> <td></td><td class="zed" colspan=2> j' = j </td></tr>
<tr> <td></td><td class="zed" colspan=2>m' = m </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd' = lockCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked' = subRoutesUnlocked </td></tr>
<tr> <td></td><td class="zed" colspan=2> subRouteLockSt' = subRouteLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> lockedSubroutes' = lockedSubroutes </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">StopTrain1</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1300 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> stopTrain? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=180 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> stopTrain? = enabledRtTrains(1) </td></tr>
<tr> <td></td><td class="zed" colspan=2>(stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> end <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> updateSegSt' = updateSegSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { end <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear , beg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainHeadPos' = trainHeadPos <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg , { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentDistance' = trainCurrentDistance <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0 } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentSpeed' = trainCurrentSpeed <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0 } </td></tr>
<tr> <td></td><td class="zed" colspan=2> moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainLMA' = trainLMA <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> ( <b>if</b> ( { enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos <img width=8 height=7 alt="\land" src="zimg/land-m.gif"> enabledRtTrainsSubroutes ( enabledRtTrains ( 2 ) ) <img width=7 height=7 alt="\neq" src="zimg/neq-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> ) <b>then</b> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On , enabledRtTrains ( 2 ) <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } <b>else</b> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On } ) </td></tr>
<tr> <td></td><td class="zed" colspan=2> i' = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2> j' = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2>runningTrain' = T1</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">StopTrain2</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MoveAndStopTrain </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=7 height=10 alt="\Delta" src="zimg/Delta-m.gif"> MaintainWorstCaseStoppingDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ExtinguishingSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\Xi" src="zimg/Xi-m.gif"> ControlRoutes </td></tr>
<tr> <td></td><td class="zed" colspan=2> stopTrain? : Train </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=180 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2> stopTrain? = enabledRtTrains(2) </td></tr>
<tr> <td></td><td class="zed" colspan=2>(stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> end <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainHeadPos </td></tr>
<tr> <td></td><td class="zed" colspan=2> updateSegSt' = updateSegSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { end <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear , beg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainHeadPos' = trainHeadPos <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg , { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentDistance' = trainCurrentDistance <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0 } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainCurrentSpeed' = trainCurrentSpeed <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0 } </td></tr>
<tr> <td></td><td class="zed" colspan=2> moveSt' = moveSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } </td></tr>
<tr> <td></td><td class="zed" colspan=2> trainLMA' = trainLMA <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red } </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainLMASt' = trainLMASt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { stopTrain? <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } </td></tr>
<tr> <td></td><td class="zed" colspan=2> i' = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2> j' = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2>runningTrain' = T1</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">CBTCInterlockingSystem</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>SafeTransportation </td></tr>
<tr> <td></td><td class="zed" colspan=2>UpdateSegmentStatus </td></tr>
<tr> <td></td><td class="zed" colspan=2>ManagePointLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2>ManageSubRouteLocking </td></tr>
<tr> <td></td><td class="zed" colspan=2>CommandPointPosition</td></tr>
<tr> <td></td><td class="zed" colspan=2>MovePointPosition </td></tr>
<tr> <td></td><td class="zed" colspan=2>ExtinguishingSignal  </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<div class="zed">
<table border=0 cellpadding=0 cellspacing=0>
<tr> <td><img alt="\begin{schema}{" src="zimg/clear.gif"></td>
     <td></td><td class="zed">InitCBTCInterlockingSystem</td>
     <td><img alt="}" src="zimg/clear.gif"></td></tr>
<tr> <td width=1 rowspan=99 bgcolor=black><br></td></tr>
<tr> <td width=10  height=1 bgcolor=black><img width=10 height=1 alt=" " src="zimg/black-10.gif"></td>
     <td height=1><img alt=" " src="zimg/clear.gif"></td>
     <td width=200 height=1 bgcolor=black><img width=1200 height=1 alt=" " src="zimg/black-200.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2>CBTCInterlockingSystem </td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td height=1 bgcolor=black><img width=10 height=1 alt="\where" src="zimg/black-10.gif"></td>
      <td height=1 bgcolor=black><img width=15 height=1 alt=" " src="zimg/black-15.gif"></td>
      <td height=1><img width=150 height=1 alt=" " src="zimg/black-75.gif"></td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> seg : Segments <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( seg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> subRouteLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> ( pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Free ) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointLockSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> CFN) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointCmd  </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> pt : Points <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (pt <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Normal) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> pointPosSt  </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> route : Route <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (route <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Unset) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> controlRtSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> route : Route <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (route <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> True) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> routeCmd </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off) <img width=7 height=7 alt="\in" src="zimg/in-m.gif">  moveSt </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainCurrentSpeed </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> 0) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainCurrentDistance </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainLMA </td></tr>
<tr> <td></td><td class="zed" colspan=2> <img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Red_Red) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> trainSignal </td></tr>
<tr> <td></td><td class="zed" colspan=2><img width=9 height=10 alt="\forall" src="zimg/forall-m.gif"> tr : Train <img width=7 height=7 alt="@" src="zimg/spot-m.gif"> (tr <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> <img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">) <img width=7 height=7 alt="\in" src="zimg/in-m.gif"> enabledRtTrainsSubroutes </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRoutes =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtSegments =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockedPoints =&nbsp;<img width=11 height=11 alt="\emptyset" src="zimg/emptyset-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>enabledRtTrains =&nbsp;<img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif"> </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockedSubroutes =&nbsp;<img width=5 height=14 align=absbottom alt="\langle" src="zimg/langle-m.gif"> <img width=5 height=14 align=absbottom alt="\rangle" src="zimg/rangle-m.gif">  </td></tr>
<tr> <td></td><td class="zed" colspan=2>runningTrain = T1 </td></tr>
<tr> <td></td><td class="zed" colspan=2>lockCmd = True </td></tr>
<tr> <td></td><td class="zed" colspan=2>subRoutesUnlocked = False </td></tr>
<tr> <td></td><td class="zed" colspan=2> i = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2> j = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2> k = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2>m = 1 </td></tr>
<tr> <td></td><td class="zed" colspan=2></td></tr>
<tr> <td></td><td class="zed" colspan=2> updateSegSt = updateSegSt <img width=9 height=9 alt="\oplus" src="zimg/oplus-m.gif"> { beg <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Occupied, segment1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment5 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment6 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment7 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment8 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment9 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment10 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment11 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, segment12 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear, end <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Clear} </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainLMASt =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { T1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On }, { T2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off }, { T3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> On }, { T4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Off } }  </td></tr>
<tr> <td></td><td class="zed" colspan=2>trainHeadPos =&nbsp;<img width=11 height=14 alt="\bigcup" align="absbottom" src="zimg/bigcup-m.gif"> { { { T1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } , { { T1 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg }, { { T2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } , { { T2 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg }, { { T3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } , { { T3 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg }, { { T4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Front } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } , { { T4 <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> Rear } <img height=9 width=10 alt="\mapsto" src="zimg/mapsto-m.gif"> beg } }</td></tr>
<tr> <td height=10><img alt=" " src="zimg/clear.gif"></td></tr>
<tr> <td colspan=3 bgcolor=black><img width=300 height=1 alt="\end{schema}" src="zimg/black-300.gif"></td></tr>
</table>
</div>
<p class="informal">


</p>
<br>
<hr/>
<div>
<p class = "one">&#169; 2022 <br> <u>Lokanna Kadakolmath</u></p>
<p> <i>Email : lokanna@acharya.ac.in; <br>Email :  lokanna.kadakolmath@gmail.com</i></p>
</div>
</body>
</html>
